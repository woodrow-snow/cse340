<% if (title) {%>
    <h1>
        <%= title %>
    </h1>
<% } else { res.redirect('/') } %>

<%- messages() %>

<% if (errors) { %>
    <ul class="notice">
        <% errors.array().forEach(error=> { %>
            <li>
                <%= error.msg %>
            </li>
            <% }) %>
    </ul>
<% } %>

<script src="/js/show_password.js" defer></script>

<h2>Update Basic Info</h2>
<form id="info-update-form" method="post" action="/account/update">
    <label for="account_firstname">
        First Name:
        <input type="text" name="account_firstname" id="accountFirstname" required title="First Name"
            value="<%= locals.account_firstname %>">
    </label>
    <label for="account_lastname">
        Last Name:
        <input type="text" name="account_lastname" id="account_lastname" required title="Last Name"
            value="<%= locals.account_lastname %>">
    </label>
    <label for="account_email">
        Email Address:
        <input type="email" name="account_email" id="account_email" required title="Email Address"
            value="<%= locals.account_email %>">
    </label>
    <input type="submit" value="Update Info" class="submitBtns">
    <input type="hidden" value='<%= locals.account_id %>' name="account_id">
    <input type="hidden" value="<%= locals.account_email %>" id="originalEmail" name="originalEmail">
   
</form>

<!-- VVV need to create post route in route file VVV -->
<h2>Change Password</h2>
<form id="password-update" method="post" action="/account/password">
    <div>Password Requirments: 12 characters minimum, 1 capital letter, 1 number, 1 special character</div>
    <label for="account_password">
        New Password:
        <div class="show_password">
            <input type="password" name="account_password" class="account_password" required title="Password"
                pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$">
            <img id="showOrHide" src="/images/password/eye.svg" alt="Show Password">
        </div>
    </label>
    <input type="submit" value="Update Password" class="submitBtns">
    <input type="hidden" value='<%= locals.account_id %>' name="account_id">
</form>